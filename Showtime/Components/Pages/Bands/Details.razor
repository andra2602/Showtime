@page "/bands/details/{Id:guid}"
@using Showtime.Repositories.Interfaces
@using Showtime.Entities
@inject NavigationManager NavigationManager
@inject IRepositoryBand BandRepository

<h3>Band Details</h3>
<style>
    body {
        background: url('/images/confetti.jpg') no-repeat center center fixed;
        background-size: cover;
        color: #e0e0e0;
        font-family: 'Montserrat', sans-serif;
    }

    h3 {
        font-family: 'Orbitron', sans-serif;
        font-size: 2.2rem;
        color: #fff;
        text-align: center;
        margin-bottom: 2rem;
        text-shadow: 0 0 10px #FF00FF, 0 0 20px #FF00FF;
    }

    .mb-3 {
        background-color: rgba(255, 255, 255, 0.1);
        border: 1px solid rgba(255, 255, 255, 0.1);
        border-radius: 10px;
        box-shadow: 0 0 15px rgba(0, 255, 255, 0.1);
        overflow: hidden;
        padding: 0.75rem;
        font-family: 'Montserrat', sans-serif;
        font-style: italic;
        color: #ffffff;
        max-width: 900px;
        margin: 0 auto 1rem auto; 
    }

    .d-flex.justify-content-end {
        background-color: rgba(255, 255, 255, 0.05);
        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }


    .b-card-title {
        font-family: 'Orbitron', sans-serif;
        font-size: 1.5rem;
        color: #ffffff;
        text-shadow: 0 0 8px #ffffffaa;
    }

    .b-card-body p {
        font-size: 1.1rem;
        color: #ffffff; 
        font-style: italic;
    }

    .btn-back {
        background-color: #7a1fa2;
        color: #fff;
        font-weight: bold;
        padding: 0.5rem 1.2rem;
        border-radius: 6px;
        border: none;
        font-family: 'Orbitron', sans-serif;
        transition: all 0.3s ease;
    }

        .btn-back:hover {
            background-color: #5e00a3;
            color: #fff;
            box-shadow: 0 0 10px #7a1fa2;
            transform: scale(1.05);
            cursor: pointer;
        }
</style>


@if (band == null)
{
    <p><em>Loading...</em></p>
}
else
{
    <Blazorise.Card Class="mb-3">
        <CardHeader>
            <CardTitle Class="b-card-title">@band.Name</CardTitle>
        </CardHeader>
        <CardBody Class="b-card-body">
            <p><strong>Genre:</strong> @band.Genre</p>
        </CardBody>
        <CardFooter Class="d-flex justify-content-end">
            <Button Class="btn-back" @onclick="GoBack">Back to list</Button>
        </CardFooter>
    </Blazorise.Card>

}

@code {
    [Parameter]
    public Guid Id { get; set; }

    private Band? band;

    protected override async Task OnInitializedAsync()
    {
        band = await BandRepository.GetByIdAsync(Id);
    }

    private void GoBack()
    {
        NavigationManager.NavigateTo("/bands");
    }

}
